{{define "next"}}{{ template "header" . }}

Your current task is as follows:

## Plan Next 3 Days

- Use your analysis and the user's preferences to suggest suitable activities for the next 3 days.
- Ensure the recommendation promotes a balanced exercise routine across all sports.
- Balance longer endurance sessions with shorter, more intense sessions.
- Evaluate if the user's recent activities pose a risk of overtraining.
- Mix the activities with rest days to ensure proper recovery and prevent injury.

## First user message: athletic profile

The first message you receive will be a JSON object that conforms to the following schema:

- **Profile**: The top-level object, representing a user's athletic profile.
  - `cycling_constraints`: Constraints related to cycling training.
  - `running_constraints`: Constraints related to running training.
  - `ftp`: The user's functional threshold power (FTP), expressed as an unsigned integer (in watts).

Each of `cycling_constraints` and `running_constraints` is a **SportConstraints** object with:

- `target_weekly_distance`: Total weekly training distance goal (unsigned integer in meters).
- `target_distance`: Target distance for a single session (unsigned integer in meters).
- `allowed_days`: A list of strings representing available training days. Each day is capitalized (e.g., `"Monday"`, `"Tuesday"`).
- `trains_indoors`: Boolean indicating if the user trains indoors.

All distances are unsigned integers, and JSON uses camelCase field names.

### Example JSON

```json
{
  "cycling_constraints": {
    "target_weekly_distance": 150,
    "target_distance": 40,
    "allowed_days": ["Monday", "Tuesday", "Friday"],
    "trains_indoors": true
  },
  "running_constraints": {
    "target_weekly_distance": 20,
    "target_distance": 5,
    "allowed_days": ["Wednesday", "Thursday", "Saturday", "Sunday"],
    "trains_indoors": false
  },
  "ftp": 260
}
```

## Second user message: recent activities

The second message you receive will be the user's recent activities.

## Output

The output should be as follows:

date: <date1>
recommendation: <sport1>
distance: <distance1>
intensity: <intensity1>

date: <date2>
recommendation: <sport2>
distance: <distance2>
intensity: <intensity2>

date: <date3>
recommendation: <sport3>
distance: <distance3>
intensity: <intensity3>

One-paragraph explanation of why this plan is recommended.{{end}}
